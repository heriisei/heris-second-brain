---
tags: code, database, mysql
---

# Connection
## References:
- https://www.a2hosting.com/kb/developer-corner/mysql/restricting-mysql-port-access
- https://stackoverflow.com/questions/54438747/securely-access-docker-container-from-the-outside-without-exposing-it

By default, MySQL is only accessible from inside the localhost interface (127.0.0.1) on the port 3306. But it can be configured to open the access from any interface by changing the `bind-address` from `127.0.0.1` to `0.0.0.0` (no address at all).
```conf
# sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf
# Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
bind-address		= 127.0.0.1 # 0.0.0.0
```

By changing the `bind-address`, a case as example would be you can access the host MySQL database from inside the docker container via an image like `qoomon/docker-host`.

# Column Flags
## References:
- https://stackoverflow.com/a/3663971
- https://dev.mysql.com/doc/workbench/en/wb-table-editor-columns-tab.html

The explanation:
- PK - Primary Key
- NN - Not Null
- BIN - Binary (stores data as binary strings. There is no character set so sorting and comparison is based on the numeric values of the bytes in the values.)
- UN - Unsigned (non-negative numbers only. so if the range is -500 to 500, instead its 0 - 1000, the range is the same but it starts at 0)
- UQ - Create/remove Unique Key
- ZF - Zero-Filled (if the length is 5 like INT(5) then every field is filled with 0â€™s to the 5th digit. 12 = 00012, 400 = 00400, etc. )
- AI - Auto Increment
- G - Generated column. i.e. value generated by a formula based on the other columns

# Query
- `ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'new_password';` - Reset root/user password in all hosts.
- `ALTER TABLE tipe_ki AUTO_INCREMENT = 1` - Reset auto-increment value from 1.

# Data Type
## Int or number
References:
- https://nexladder.com/blog/what-does-int11-means-in-mysql/#:~:text=most%20of%20the%20developer%20think,character%20that%20can%20be%20stored.
- https://stackoverflow.com/a/5634147

Explanation points:
- The `(x)` digit inside the bracket like `int(4)` is not define the length of digit can be stored, but it just a number to define the **display length** in a query result and only if the column is set to be `ZEROFILL`. 

## Date, Time
### Store date as UTC +0 format

# MySQL Workbench
## Snap version

This version that is install-able for Ubuntu 22.04, with additional configuration to make it works.

### References
- https://askubuntu.com/questions/1242026/cannot-connect-mysql-workbench-to-mysql-server/1242777#1242777

### Steps
- Install
	- `snap install mysql-workbench-community`
- Configuration
	- `sudo snap connect mysql-workbench-community:password-manager-service :password-manager-service`

## Export & Import Database
- Export via `Server` -> `Data Export` menu.
	- Choose the tables.
	- Choose `Dump Structure & Data`.
	- Choose `Export to Self-Contained File`.
- Import via `Server` -> `Data Import` menu.
	- Choose `Export to Self-Contained File`.
	- Choose `Dump Structure & Data`.
	- Choose the tables.
